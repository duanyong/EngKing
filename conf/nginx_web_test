server {
    listen 80;

    # 注意名称
    server_name engking.reaier.com;

    client_max_body_size 1m;

    root    /var/www/engking;
    index   index.html index.shtml;

    error_log       /var/log/nginx/engking.reaier.com.error.log;
    access_log      /var/log/nginx/engking.reaier.com.access.log;


    #启用压缩，但IE7以下不压缩
    gzip on;
    gzip_types	    "text/plain" "application/xml";
    gzip_disable    "msie[1-6]\.";


    #禁止访问dev目录或以dev开关的任何文件
    location ~ ^/dev {
        deny all;
    }

    location /api/ {
        proxy_pass   http://localhost:18030;

        proxy_set_header   Host             $host;
        proxy_set_header   Remote_Addr      $remote_addr;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
    }
}
